"0","# Agrupar las cantidades por cliente, latitud, longitud y tipo de art√≠culo"
"0","Df_agrupado <- Df %>%"
"0","  group_by(IdCliente, Latitud, Logitud, TipoArticulo) %>%"
"0","  summarise("
"0","    Cantidad_Total = sum(Cantidad, na.rm = TRUE), # Sumar las cantidades"
"0","    .groups = ""drop"""
"0","  ) %>%"
"0","  mutate("
"0","    etiqueta = paste("
"0","      ""Cliente:"", IdCliente,"
"0","      ""<br>Tipo de Art√≠culo:"", TipoArticulo,"
"0","      ""<br>Volumen Total:"", Cantidad_Total"
"0","    )"
"0","  )"
"0",""
"0","# Calcular el volumen total por tipo de art√≠culo"
"0","Df_volumen <- Df_agrupado %>%"
"0","  group_by(TipoArticulo) %>%"
"0","  summarise("
"0","    Volumen_Total = sum(Cantidad_Total, na.rm = TRUE),"
"0","    .groups = ""drop"""
"0","  ) %>%"
"0","  arrange(desc(Volumen_Total)) %>%"
"0","  mutate(Volumen_Format = format(Volumen_Total, big.mark = ""."", scientific = FALSE))"
"2","Aviso:"
"2"," [38;5;252mThere was 1 warning in `mutate()`.[39m
[38;5;252m[36m‚Ñπ[38;5;252m In argument: `Volumen_Format = format(Volumen_Total, big.mark = ""."", scientific
  = FALSE)`.[39m
Caused by warning in `prettyNum()`:
[33m![39m 'big.mark' y 'decimal.mark' son ambos '.', lo cual puede ser confuso
"
"0","# Crear el mapa interactivo"
"0","mapa_todos_tipos <- leaflet(Df_agrupado) %>%"
"0","  addProviderTiles(""OpenStreetMap.Mapnik"")"
"0",""
"0","# A√±adir capas din√°micas para cada tipo de art√≠culo con el formato requerido"
"0","for (i in 1:nrow(Df_volumen)) {"
"0","  tipo <- Df_volumen$TipoArticulo[i]"
"0","  volumen <- Df_volumen$Volumen_Format[i]"
"0","  "
"0","  mapa_todos_tipos <- mapa_todos_tipos %>%"
"0","    addCircleMarkers("
"0","      data = Df_agrupado %>% filter(TipoArticulo == tipo),"
"0","      lat = ~Latitud,"
"0","      lng = ~Logitud,"
"0","      radius = ~sqrt(Cantidad_Total) / 5, # Usar la cantidad total consolidada"
"0","      color = ""blue"",  # Color uniforme"
"0","      label = ~lapply(etiqueta, HTML),"
"0","      clusterOptions = markerClusterOptions(),"
"0","      group = paste(tipo, ""("", volumen, ""kg)"")"
"0","    )"
"0","}"
"0",""
"0","# A√±adir control de capas sin seleccionar ninguna por defecto"
"0","mapa_todos_tipos <- mapa_todos_tipos %>%"
"0","  addLayersControl("
"0","    overlayGroups = paste(Df_volumen$TipoArticulo, ""("", Df_volumen$Volumen_Format, ""kg)""),"
"0","    options = layersControlOptions(collapsed = FALSE, autoZIndex = TRUE)"
"0","  ) %>%"
"0","  hideGroup(paste(Df_volumen$TipoArticulo, ""("", Df_volumen$Volumen_Format, ""kg)""))"
"0",""
"0","# Mostrar el mapa"
"0","mapa_todos_tipos"
"2","Aviso en file.create(to[okay]) :"
"2","
 "
"2"," cannot create file 'C:/Users/MZamora/OneDrive - TEKNAL S.A/Escritorio/Maestria Ciencia de Datos/Analisis Inteligente de Datos/tarea2-MauricioZ4/.Rproj.user/shared/notebooks/B74670D9-index/1/A8F2ECA07751b7a2/c2b93r2zvk0jv_t/lib/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js', reason 'No such file or directory'
"
"2","Aviso en file.create(to[okay]) :"
"2","
 "
"2"," cannot create file 'C:/Users/MZamora/OneDrive - TEKNAL S.A/Escritorio/Maestria Ciencia de Datos/Analisis Inteligente de Datos/tarea2-MauricioZ4/.Rproj.user/shared/notebooks/B74670D9-index/1/A8F2ECA07751b7a2/c2b93r2zvk0jv_t/lib/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js', reason 'No such file or directory'
"
"2","Aviso en file.create(to[okay]) :"
"2","
 "
"2"," cannot create file 'C:/Users/MZamora/OneDrive - TEKNAL S.A/Escritorio/Maestria Ciencia de Datos/Analisis Inteligente de Datos/tarea2-MauricioZ4/.Rproj.user/shared/notebooks/B74670D9-index/1/A8F2ECA07751b7a2/c2b93r2zvk0jv_t/lib/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js', reason 'No such file or directory'
"
"2","Aviso en file.create(to[okay]) :"
"2","
 "
"2"," cannot create file 'C:/Users/MZamora/OneDrive - TEKNAL S.A/Escritorio/Maestria Ciencia de Datos/Analisis Inteligente de Datos/tarea2-MauricioZ4/.Rproj.user/shared/notebooks/B74670D9-index/1/A8F2ECA07751b7a2/c2b93r2zvk0jv_t/lib/leaflet-markercluster-1.0.5/MarkerCluster.Default.css', reason 'No such file or directory'
"
